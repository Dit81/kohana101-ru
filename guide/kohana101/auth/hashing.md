# Хеширование

Википедия [гласит](http://ru.wikipedia.org/wiki/%D0%A5%D0%B5%D1%88%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5):

> Хеширование (иногда «хэширование», англ. hashing) — преобразование по детерминированному алгоритму входного массива данных
 произвольной длины в выходную битовую строку фиксированной длины.

Если вкратце, основная идея данного механизма - умение привести практически что угодно к нужному нам формату (строка
 длиной ровно XXX символов). Из этого следует, что преобразование одностороннее, так как диапазон возможных значений в
 (хешей) меньше, чем первоначальное множество. Это свойство идеально подходит для механизма хранения паролей - пароль можно
 проверить, но нельзя восстановить даже зная хеш и алгоритм его формирования.

## Хеш-функции {#methods}

В файле конфигурации модуля **Auth** необходимо указать используемый алгоритм хеширования (параметр `hash_method`).
 PHP предлагает на выбор целый [список](http://www.php.net/manual/en/function.hash-algos.php) функций хеширования. При выборе
 стоит учесть, что итоговая длина хеша может поменяться, так что при [создании таблиц БД](auth/orm/config#database)
 настройте длину поля `password`.

Также необходимо выбрать секретный ключ, использование которого не позволит подобрать пароли по словарю даже в случае получения
 доступа к БД. Ключ хранится в поле `hash_key`, без его заполнения использование модуля невозможно.

## Хеширование пароля {#hashing}

За хеширование "сырого" пароля отвечает метод [Auth::hash]. Он просто вызывает функцию [hash_hmac](http://www.php.net/manual/en/function.hash-hmac.php),
 в которую передает выбранную функцию хеширования, "сырой" пароль и секретный ключ. На выходе получаем строку с хешем.

## Проверка пароля {#password}

Собственно проверка введенного пароля очень проста. Необходимо подсчитать хеш и сравнить с тем значением, которое хранится в БД.
